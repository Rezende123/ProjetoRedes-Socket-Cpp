## ğŸ›°ï¸ TP SOCKETS CLOUD

Este projeto implementa uma comunicaÃ§Ã£o simples entre **Cliente** e **Servidor** utilizando **Sockets TCP** em C++ com **Winsock (Windows)**. Ele simula um cliente que coleta nomes de arquivos de um diretÃ³rio e os envia para um servidor, que cria um arquivo com esses nomes localmente.

[ExecuÃ§Ã£o](exemplo-execucao.png)

---

## ğŸ—‚ï¸ Estrutura do RepositÃ³rio

```
/
â”œâ”€â”€ Client/
â”‚   â””â”€â”€ main.cpp
â”œâ”€â”€ Server/
â”‚   â””â”€â”€ main.cpp
â”œâ”€â”€ tdir/
â”‚   â”œâ”€â”€ arquivo1.txt
â”‚   â””â”€â”€ imagem.jpg
```

---

## âš™ï¸ CompilaÃ§Ã£o e ExecuÃ§Ã£o

A compilaÃ§Ã£o e execuÃ§Ã£o deve ser feita **em ambiente Windows**, com `g++` (MinGW ou compatÃ­vel) instalado.

### ğŸ”§ Comando para compilar e rodar (Cliente ou Servidor)

Acesse a pasta (`Client` ou `Server`) e execute:

```bash
g++ -g main.cpp -o main.exe -lws2_32 && main.exe
```

> O parÃ¢metro `-lws2_32` Ã© essencial para linkar a biblioteca Winsock.

---

## ğŸ’» Modo de Uso

### ğŸ–¥ï¸ 1. Servidor

* Acesse a pasta `Server` e execute o comando acima.
* O servidor ficarÃ¡ escutando a porta `8080`.
* Ao receber dados, ele criarÃ¡ um arquivo `.txt` contendo os nomes dos arquivos enviados.

### ğŸ§‘â€ğŸ’» 2. Cliente

* Acesse a pasta `Client` e execute o comando acima.
* Quando solicitado, insira os seguintes dados no console:

```bash
<host do servidor> <port do servidor> <caminho do diretÃ³rio>
```

**Exemplo de uso com o diretÃ³rio de teste incluso no repositÃ³rio:**

```
127.0.0.1 8080 ../tdir
```

> Isso vai coletar os nomes de todos os arquivos presentes em `tdir/` e enviÃ¡-los ao servidor.

---

## ğŸ“¥ O que acontece na prÃ¡tica?

### Cliente:

* LÃª os arquivos no diretÃ³rio informado.
* Conecta ao servidor via IP e porta fornecidos.
* Realiza uma â€œhandshakeâ€ com a mensagem `READY`.
* Envia os nomes dos arquivos ao servidor.
* Finaliza com a mensagem `bye`.

### Servidor:

* Aguarda a mensagem `READY`.
* Retorna `READY ACK`.
* Recebe o caminho e nomes dos arquivos.
* Cria um arquivo `.txt` com o nome `<host><diretorio>.txt`, contendo os nomes dos arquivos enviados.

---

## ğŸ“ Exemplo de Arquivo Gerado

Se o cliente usar:

```bash
127.0.0.1 8080 ../tdir
```

O servidor criarÃ¡ um arquivo chamado:

```
127001tdir.txt
```

Com conteÃºdo como:

```
../tdir/arquivo1.txt,../tdir/imagem.jpg,
```

## ğŸ› ï¸ CompilaÃ§Ã£o e ExecuÃ§Ã£o com Makefile (Windows)

Este projeto inclui um `Makefile` que facilita a compilaÃ§Ã£o e execuÃ§Ã£o dos mÃ³dulos **Cliente** e **Servidor**, desde que vocÃª esteja usando **MinGW** no Windows.

### âœ… Requisitos

* [MinGW-w64](https://www.mingw-w64.org/) instalado e adicionado ao `PATH`
* `make` disponÃ­vel (pode ser o `mingw32-make` renomeado como `make`)

### ğŸ“¦ Comandos disponÃ­veis

| Comando           | AÃ§Ã£o                                         |
| ----------------- | -------------------------------------------- |
| `make`            | Compila o cliente e o servidor               |
| `make run-server` | Compila (se necessÃ¡rio) e executa o servidor |
| `make run-client` | Compila (se necessÃ¡rio) e executa o cliente  |
| `make clean`      | Remove os arquivos `.exe` gerados            |

### â–¶ï¸ Exemplo de uso

```bash
# Compilar ambos
make

# Em um terminal, iniciar o servidor:
make run-server

# Em outro terminal, iniciar o cliente:
make run-client
```

> O cliente pedirÃ¡: `<host do servidor> <port do servidor> <nome do diretÃ³rio>`
> Exemplo:
>
> ```
> 127.0.0.1 8080 ../tdir
> ```

## âœ… Requisitos

* Windows com g++ (MinGW-W64)
* ConexÃ£o local (127.0.0.1) ou rede habilitada para comunicaÃ§Ã£o entre cliente e servidor
* PermissÃ£o de acesso Ã  pasta e arquivos (tdir)
